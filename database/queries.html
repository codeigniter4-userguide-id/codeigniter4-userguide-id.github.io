<!DOCTYPE html>
<html class="writer-html5" lang="id">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kueri &mdash; Dokumentasi CodeIgniter 4.6.2</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/citheme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/citheme_dark.css" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/translations.js"></script>
        <script src="../_static/js/citheme.js"></script>
        <script src="../_static/js/carbon.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Indeks" href="../genindex.html" />
    <link rel="search" title="Pencarian" href="../search.html" />
    <link rel="next" title="Menghasilkan Query Results" href="results.html" />
    <link rel="prev" title="Menghubungkan ke Database Anda" href="connecting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/ci-logo-text.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Welcome to CodeIgniter4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/index.html">Welcome to CodeIgniter4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/requirements.html">Server Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/credits.html">Credits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/psr.html">PSR Compliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../license.html">License Agreement</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation/index.html">Instalasi</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation/installing_composer.html">Instalasi Menggunakan Composer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/installing_manual.html">Instalasi Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/running.html">Menjalankan Aplikasi Anda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/troubleshooting.html">Pemecahan Masalah</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/deployment.html">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelogs/index.html">Change Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/upgrading.html">Upgrading From a Previous Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="../installation/repositories.html">Repositori CodeIgniter</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Membangun Aplikasi Pertama Anda</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Halaman Statis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">Bagian Berita</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Membuat Item Berita</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Kesimpulan</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">Ikhtisar CodeIgniter4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../concepts/structure.html">Struktur Aplikasi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/mvc.html">Model, View, dan Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/autoloader.html">Autoloading File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/services.html">Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/factories.html">Factories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/http.html">Bekerja dengan Permintaan HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/security.html">Panduan Keamanan</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/goals.html">Tujuan Desain dan Arsitektur</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">CodeIgniter URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helper Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Global Functions and Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/logging.html">Logging Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Web Page Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ajax.html">AJAX Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/modules.html">Code Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Managing your Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Handling Multiple Environments</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../incoming/index.html">Controllers and Routing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../incoming/routing.html">URI Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/filters.html">Controller Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/auto_routing_improved.html">Auto Routing (Improved)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/message.html">HTTP Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/request.html">Request Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/incomingrequest.html">IncomingRequest Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/content_negotiation.html">Content Negotiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/methodspoofing.html">HTTP Method Spoofing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/restful.html">RESTful Resource Handling</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../outgoing/index.html">Membangun Respons (Output)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/views.html">View (Template)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_renderer.html">View Renderer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_layouts.html">View Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_cells.html">View Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_parser.html">View Parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_decorators.html">View Decorators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/table.html">HTML Table Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/response.html">HTTP Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/api_responses.html">API Response Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/csp.html">Content Security Policy (CSP)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/localization.html">Localization (Bahasa)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/alternative_php.html">Sintaks PHP Alternatif untuk File View</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Bekerja dengan Database</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="examples.html">Mulai Cepat: Contoh Penggunaan</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html">Konfigurasi Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="connecting.html">Menghubungkan ke Database</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Menjalankan Kueri</a></li>
<li class="toctree-l2"><a class="reference internal" href="results.html">Menghasilkan Query Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="helpers.html">Kumpulan Metode (Fungsi) Pembantu Kueri</a></li>
<li class="toctree-l2"><a class="reference internal" href="query_builder.html">Class Query Builder</a></li>
<li class="toctree-l2"><a class="reference internal" href="transactions.html">Transaksi Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="metadata.html">Mendapatkan Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="call_function.html">Panggilan Fungsi Kustom</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html">Database Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">Utilitas Database</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../models/index.html">Memodelkan Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../models/model.html">Menggunakan Model CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../models/entities.html">Menggunakan Class Entitas</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dbmgmt/index.html">Managing Databases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/forge.html">Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/migration.html">Database Migrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/seeds.html">Database Seeding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/db_commands.html">Database Commands</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Library Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../libraries/caching.html">Caching Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/cookies.html">Cookies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/cors.html">Cross-Origin Resource Sharing (CORS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/curlrequest.html">CURLRequest Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/email.html">Email Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/encryption.html">Encryption Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/files.html">Working with Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/file_collections.html">File Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/honeypot.html">Honeypot Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/images.html">Image Manipulation Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/pagination.html">Pagination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/publisher.html">Publisher</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/sessions.html">Session Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/throttler.html">Throttler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/time.html">Times and Dates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/typography.html">Typography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uploaded_files.html">Working with Uploaded Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html">Working with URIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/user_agent.html">User Agent Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/validation.html">Validation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Array Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Cookie Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Date Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/filesystem_helper.html">Filesystem Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Form Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Inflector Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Number Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Security Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/test_helper.html">Test Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Text Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">URL Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">XML Helper</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html">Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../testing/overview.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/database.html">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/fabricator.html">Generating Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/controllers.html">Controller Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/feature.html">HTTP Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/response.html">Testing Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/cli.html">Testing CLI Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/mocking.html">Mocking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/benchmark.html">Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/debugging.html">Debugging Your Application</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command Line Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_overview.html">CLI Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_controllers.html">Running Controllers via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/spark_commands.html">Spark Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_commands.html">Creating Spark Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_generators.html">CLI Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_library.html">CLI Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_request.html">CLIRequest Class</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../extending/index.html">Extending CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../extending/core_classes.html">Creating Core System Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/common.html">Replacing Common Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/events.html">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/basecontroller.html">Extending the Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/authentication.html">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/composer_packages.html">Creating Composer Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/contributing.html">Contributing to CodeIgniter</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/official_packages.html">Official Packages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CodeIgniter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Bekerja dengan Database</a></li>
      <li class="breadcrumb-item active">Kueri</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="kueri">
<h1>Kueri<a class="headerlink" href="#kueri" title="Permalink to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#dasar-dasar-kueri" id="id4">Dasar-dasar Kueri</a></p>
<ul>
<li><p><a class="reference internal" href="#kueri-reguler" id="id5">Kueri Reguler</a></p></li>
<li><p><a class="reference internal" href="#kueri-sederhana" id="id6">Kueri Sederhana</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#bekerja-dengan-prefiks-database-secara-manual" id="id7">Bekerja dengan Prefiks Database Secara Manual</a></p>
<ul>
<li><p><a class="reference internal" href="#db-prefixtable" id="id8">$db-&gt;prefixTable()</a></p></li>
<li><p><a class="reference internal" href="#db-setprefix" id="id9">$db-&gt;setPrefix()</a></p></li>
<li><p><a class="reference internal" href="#db-getprefix" id="id10">$db-&gt;getPrefix()</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#melindungi-identifier" id="id11">Melindungi Identifier</a></p>
<ul>
<li><p><a class="reference internal" href="#db-protectidentifiers" id="id12">$db-&gt;protectIdentifiers()</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#meng-escape-nilai" id="id13">Meng-escape Nilai</a></p>
<ul>
<li><p><a class="reference internal" href="#db-escape" id="id14">1. $db-&gt;escape()</a></p></li>
<li><p><a class="reference internal" href="#db-escapestring" id="id15">2. $db-&gt;escapeString()</a></p></li>
<li><p><a class="reference internal" href="#db-escapelikestring" id="id16">3. $db-&gt;escapeLikeString()</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#binding-kueri" id="id17">Binding Kueri</a></p>
<ul>
<li><p><a class="reference internal" href="#binding-bernama" id="id18">Binding Bernama</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#menangani-kesalahan" id="id19">Menangani Kesalahan</a></p>
<ul>
<li><p><a class="reference internal" href="#db-error" id="id20">$db-&gt;error()</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#kueri-yang-disiapkan" id="id21">Kueri yang Disiapkan</a></p>
<ul>
<li><p><a class="reference internal" href="#menyiapkan-kueri" id="id22">Menyiapkan Kueri</a></p></li>
<li><p><a class="reference internal" href="#menjalankan-kueri" id="id23">Menjalankan Kueri</a></p></li>
<li><p><a class="reference internal" href="#metode-lain" id="id24">Metode Lain</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#bekerja-dengan-objek-kueri" id="id25">Bekerja dengan Objek Kueri</a></p>
<ul>
<li><p><a class="reference internal" href="#db-getlastquery" id="id26">$db-&gt;getLastQuery()</a></p></li>
<li><p><a class="reference internal" href="#kelas-kueri" id="id27">Kelas Kueri</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="dasar-dasar-kueri">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Dasar-dasar Kueri</a><a class="headerlink" href="#dasar-dasar-kueri" title="Permalink to this heading"></a></h2>
<div class="admonition note">
<p class="admonition-title">Catatan</p>
<p>CodeIgniter tidak mendukung titik (<code class="docutils literal notranslate"><span class="pre">.</span></code>) dalam nama tabel dan kolom.
Sejak v4.5.0, nama database dengan titik didukung.</p>
</div>
<section id="kueri-reguler">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Kueri Reguler</a><a class="headerlink" href="#kueri-reguler" title="Permalink to this heading"></a></h3>
<section id="db-query">
<span id="id1"></span><h4>$db-&gt;query()<a class="headerlink" href="#db-query" title="Permalink to this heading"></a></h4>
<p>Untuk mengirimkan kueri, gunakan metode <code class="docutils literal notranslate"><span class="pre">query()</span></code>:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$db</span> <span class="o">=</span> <span class="nx">db_connect</span><span class="p">();</span>
<span class="nv">$db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">&#39;YOUR QUERY HERE&#39;</span><span class="p">);</span>
</pre></div>
</div>
<p>Metode <code class="docutils literal notranslate"><span class="pre">query()</span></code> mengembalikan <strong>object</strong> hasil database saat kueri tipe &quot;baca&quot;
dijalankan, yang dapat Anda gunakan untuk <a class="reference internal" href="results.html"><span class="doc">menampilkan hasil Anda</span></a>.
Saat kueri tipe &quot;tulis&quot; dijalankan, ia hanya mengembalikan true atau false tergantung pada keberhasilan atau kegagalan.
Saat mengambil data, Anda biasanya akan menetapkan kueri ke variabel Anda sendiri, seperti ini:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="s1">&#39;YOUR QUERY HERE&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Catatan</p>
<p>Jika Anda menggunakan OCI8 Driver, pernyataan SQL tidak boleh diakhiri dengan titik koma (<code class="docutils literal notranslate"><span class="pre">;</span></code>).
Pernyataan PL/SQL harus diakhiri dengan titik koma (<code class="docutils literal notranslate"><span class="pre">;</span></code>).</p>
</div>
</section>
</section>
<section id="kueri-sederhana">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">Kueri Sederhana</a><a class="headerlink" href="#kueri-sederhana" title="Permalink to this heading"></a></h3>
<section id="db-simplequery">
<span id="id2"></span><h4>$db-&gt;simpleQuery()<a class="headerlink" href="#db-simplequery" title="Permalink to this heading"></a></h4>
<p>Metode <code class="docutils literal notranslate"><span class="pre">simpleQuery()</span></code> adalah versi sederhana dari metode
<code class="docutils literal notranslate"><span class="pre">$db-&gt;query()</span></code>. Ini TIDAK
mengembalikan set hasil database, juga tidak mengatur timer kueri, atau
mengkompilasi data bind, atau menyimpan kueri Anda untuk debugging. Ini hanya memungkinkan Anda
mengirimkan kueri. Sebagian besar pengguna jarang akan menggunakan fungsi ini.</p>
<p>Ini mengembalikan apa pun yang dikembalikan oleh fungsi &quot;execute&quot; driver database.
Itu biasanya true/false pada keberhasilan atau kegagalan untuk kueri tipe tulis
seperti pernyataan INSERT, DELETE, atau UPDATE (yang seharusnya digunakan untuk itu)
dan sumber daya/object pada keberhasilan untuk kueri dengan hasil yang dapat diambil.</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$db</span><span class="o">-&gt;</span><span class="na">simpleQuery</span><span class="p">(</span><span class="s1">&#39;YOUR QUERY&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Success!&#39;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Query failed!&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Catatan</p>
<p>Fungsi <code class="docutils literal notranslate"><span class="pre">pg_exec()</span></code> PostgreSQL (misalnya) selalu
mengembalikan sumber daya pada keberhasilan bahkan untuk kueri tipe tulis.
Jadi ingatlah itu jika Anda mencari nilai boolean.</p>
</div>
</section>
</section>
</section>
<section id="bekerja-dengan-prefiks-database-secara-manual">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Bekerja dengan Prefiks Database Secara Manual</a><a class="headerlink" href="#bekerja-dengan-prefiks-database-secara-manual" title="Permalink to this heading"></a></h2>
<section id="db-prefixtable">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">$db-&gt;prefixTable()</a><a class="headerlink" href="#db-prefixtable" title="Permalink to this heading"></a></h3>
<p>Jika Anda telah mengkonfigurasi prefiks database dan ingin menambahkannya ke
nama tabel untuk digunakan dalam kueri SQL asli misalnya, maka Anda dapat menggunakan
yang berikut:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$db</span><span class="o">-&gt;</span><span class="na">prefixTable</span><span class="p">(</span><span class="s1">&#39;tablename&#39;</span><span class="p">);</span> <span class="c1">// outputs prefix_tablename</span>
</pre></div>
</div>
</section>
<section id="db-setprefix">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">$db-&gt;setPrefix()</a><a class="headerlink" href="#db-setprefix" title="Permalink to this heading"></a></h3>
<p>Jika karena alasan apa pun Anda ingin mengubah prefiks secara terprogram
tanpa perlu membuat koneksi baru, Anda dapat menggunakan metode ini:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$db</span><span class="o">-&gt;</span><span class="na">setPrefix</span><span class="p">(</span><span class="s1">&#39;newprefix_&#39;</span><span class="p">);</span>
<span class="nv">$db</span><span class="o">-&gt;</span><span class="na">prefixTable</span><span class="p">(</span><span class="s1">&#39;tablename&#39;</span><span class="p">);</span> <span class="c1">// outputs newprefix_tablename</span>
</pre></div>
</div>
</section>
<section id="db-getprefix">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">$db-&gt;getPrefix()</a><a class="headerlink" href="#db-getprefix" title="Permalink to this heading"></a></h3>
<p>Anda bisa mendapatkan prefiks saat ini kapan saja dengan metode ini:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$DBPrefix</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">getPrefix</span><span class="p">();</span>
</pre></div>
</div>
</section>
</section>
<section id="melindungi-identifier">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Melindungi Identifier</a><a class="headerlink" href="#melindungi-identifier" title="Permalink to this heading"></a></h2>
<section id="db-protectidentifiers">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">$db-&gt;protectIdentifiers()</a><a class="headerlink" href="#db-protectidentifiers" title="Permalink to this heading"></a></h3>
<p>Di banyak database, disarankan untuk melindungi nama tabel dan field - misalnya dengan backticks di MySQL. <strong>Kueri Query Builder
secara otomatis dilindungi</strong>, tetapi jika Anda perlu melindungi identifier secara manual, Anda dapat menggunakan:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$db</span><span class="o">-&gt;</span><span class="na">protectIdentifiers</span><span class="p">(</span><span class="s1">&#39;table_name&#39;</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Penting</p>
<p>Meskipun Query Builder akan mencoba yang terbaik untuk dengan benar
mengutip nama field dan tabel apa pun yang Anda berikan. Perhatikan bahwa itu
TIDAK dirancang untuk bekerja dengan input pengguna arbitrer. JANGAN berikan
data pengguna yang tidak disanitasi.</p>
</div>
<p>Fungsi ini juga akan menambahkan <strong>prefiks tabel</strong> ke tabel Anda, dengan asumsi Anda
memiliki prefiks yang ditentukan dalam file konfigurasi database Anda. Untuk mengaktifkan
prefiks, atur <code class="docutils literal notranslate"><span class="pre">true</span></code> (boolean) melalui parameter kedua:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$db</span><span class="o">-&gt;</span><span class="na">protectIdentifiers</span><span class="p">(</span><span class="s1">&#39;table_name&#39;</span><span class="p">,</span> <span class="k">true</span><span class="p">);</span>
</pre></div>
</div>
</section>
</section>
<section id="meng-escape-nilai">
<span id="database-queries-escaping"></span><h2><a class="toc-backref" href="#id13" role="doc-backlink">Meng-escape Nilai</a><a class="headerlink" href="#meng-escape-nilai" title="Permalink to this heading"></a></h2>
<p>Ini adalah praktik keamanan yang sangat baik untuk meng-escape data Anda sebelum mengirimkannya
ke database Anda. CodeIgniter memiliki tiga metode yang membantu Anda melakukan
ini:</p>
<section id="db-escape">
<span id="database-queries-db-escape"></span><h3><a class="toc-backref" href="#id14" role="doc-backlink">1. $db-&gt;escape()</a><a class="headerlink" href="#db-escape" title="Permalink to this heading"></a></h3>
<p>Fungsi ini menentukan tipe data sehingga dapat meng-escape hanya data string.
Ini juga secara otomatis menambahkan tanda kutip tunggal di sekitar data sehingga Anda
tidak perlu melakukannya:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$sql</span> <span class="o">=</span> <span class="s1">&#39;INSERT INTO table (title) VALUES(&#39;</span> <span class="o">.</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span class="nv">$title</span><span class="p">)</span> <span class="o">.</span> <span class="s1">&#39;)&#39;</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="db-escapestring">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">2. $db-&gt;escapeString()</a><a class="headerlink" href="#db-escapestring" title="Permalink to this heading"></a></h3>
<p>Fungsi ini meng-escape data yang diteruskan ke
itu, terlepas dari tipenya. Sebagian besar waktu Anda akan menggunakan fungsi di atas
daripada yang ini. Gunakan fungsi seperti ini:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$sql</span> <span class="o">=</span> <span class="s2">&quot;INSERT INTO table (title) VALUES(&#39;&quot;</span> <span class="o">.</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">escapeString</span><span class="p">(</span><span class="nv">$title</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;&#39;)&quot;</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="db-escapelikestring">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">3. $db-&gt;escapeLikeString()</a><a class="headerlink" href="#db-escapelikestring" title="Permalink to this heading"></a></h3>
<p>Metode ini harus digunakan ketika
string akan digunakan dalam kondisi LIKE sehingga wildcard LIKE
(<code class="docutils literal notranslate"><span class="pre">%</span></code>, <code class="docutils literal notranslate"><span class="pre">_</span></code>) dalam string juga di-escape dengan benar.</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$search</span> <span class="o">=</span> <span class="s1">&#39;20% raise&#39;</span><span class="p">;</span>
<span class="nv">$sql</span>    <span class="o">=</span> <span class="s2">&quot;SELECT id FROM table WHERE column LIKE &#39;%&quot;</span> <span class="o">.</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">escapeLikeString</span><span class="p">(</span><span class="nv">$search</span><span class="p">)</span> <span class="o">.</span> <span class="s2">&quot;%&#39; ESCAPE &#39;!&#39;&quot;</span><span class="p">;</span>
</pre></div>
</div>
<div class="admonition important">
<p class="admonition-title">Penting</p>
<p>Metode <code class="docutils literal notranslate"><span class="pre">escapeLikeString()</span></code> menggunakan <code class="docutils literal notranslate"><span class="pre">'!'</span></code> (tanda seru)
untuk meng-escape karakter khusus untuk kondisi <code class="docutils literal notranslate"><span class="pre">LIKE</span></code>. Karena metode ini meng-escape string parsial yang akan Anda bungkus dalam tanda kutip
sendiri, ia tidak dapat secara otomatis menambahkan kondisi <code class="docutils literal notranslate"><span class="pre">ESCAPE</span> <span class="pre">'!'</span></code>
untuk Anda, dan oleh karena itu Anda harus melakukannya secara manual.</p>
</div>
</section>
</section>
<section id="binding-kueri">
<span id="database-queries-query-bindings"></span><h2><a class="toc-backref" href="#id17" role="doc-backlink">Binding Kueri</a><a class="headerlink" href="#binding-kueri" title="Permalink to this heading"></a></h2>
<p>Binding memungkinkan Anda menyederhanakan sintaks kueri Anda dengan membiarkan sistem
menggabungkan kueri untuk Anda. Pertimbangkan contoh berikut:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$sql</span> <span class="o">=</span> <span class="s1">&#39;SELECT * FROM some_table WHERE id = ? AND status = ? AND author = ?&#39;</span><span class="p">;</span>
<span class="nv">$db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="nv">$sql</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;live&#39;</span><span class="p">,</span> <span class="s1">&#39;Rick&#39;</span><span class="p">]);</span>
</pre></div>
</div>
<p>Tanda tanya dalam kueri secara otomatis diganti dengan
nilai-nilai dalam array di parameter kedua fungsi kueri.</p>
<p>Binding juga berfungsi dengan array, yang akan diubah menjadi set IN:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$sql</span> <span class="o">=</span> <span class="s1">&#39;SELECT * FROM some_table WHERE id IN ? AND status = ? AND author = ?&#39;</span><span class="p">;</span>
<span class="nv">$db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="nv">$sql</span><span class="p">,</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">6</span><span class="p">],</span> <span class="s1">&#39;live&#39;</span><span class="p">,</span> <span class="s1">&#39;Rick&#39;</span><span class="p">]);</span>
</pre></div>
</div>
<p>Kueri yang dihasilkan akan menjadi:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nx">SELECT</span> <span class="o">*</span> <span class="nx">FROM</span> <span class="nx">some_table</span> <span class="nx">WHERE</span> <span class="nx">id</span> <span class="nx">IN</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span> <span class="k">AND</span> <span class="nx">status</span> <span class="o">=</span> <span class="s1">&#39;live&#39;</span> <span class="k">AND</span> <span class="nx">author</span> <span class="o">=</span> <span class="s1">&#39;Rick&#39;</span>
</pre></div>
</div>
<p>Manfaat sekunder dari penggunaan binding adalah nilai-nilai
secara otomatis di-escape menghasilkan kueri yang lebih aman.
Anda tidak perlu mengingat untuk meng-escape data secara manual - mesin melakukannya secara otomatis untuk Anda.</p>
<section id="binding-bernama">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">Binding Bernama</a><a class="headerlink" href="#binding-bernama" title="Permalink to this heading"></a></h3>
<p>Alih-alih menggunakan tanda tanya untuk menandai lokasi nilai yang terikat,
Anda dapat menamai binding, memungkinkan kunci nilai yang diteruskan cocok dengan
placeholder dalam kueri:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$sql</span> <span class="o">=</span> <span class="s1">&#39;SELECT * FROM some_table WHERE id = :id: AND status = :status: AND author = :name:&#39;</span><span class="p">;</span>
<span class="nv">$db</span><span class="o">-&gt;</span><span class="na">query</span><span class="p">(</span><span class="nv">$sql</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">&#39;id&#39;</span>     <span class="o">=&gt;</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s1">&#39;status&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;live&#39;</span><span class="p">,</span>
    <span class="s1">&#39;name&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;Rick&#39;</span><span class="p">,</span>
<span class="p">]);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Catatan</p>
<p>Setiap nama dalam kueri HARUS dikelilingi oleh titik dua.</p>
</div>
</section>
</section>
<section id="menangani-kesalahan">
<h2><a class="toc-backref" href="#id19" role="doc-backlink">Menangani Kesalahan</a><a class="headerlink" href="#menangani-kesalahan" title="Permalink to this heading"></a></h2>
<section id="db-error">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">$db-&gt;error()</a><a class="headerlink" href="#db-error" title="Permalink to this heading"></a></h3>
<p>Jika Anda perlu mendapatkan kesalahan terakhir yang terjadi, metode <code class="docutils literal notranslate"><span class="pre">error()</span></code>
akan mengembalikan array yang berisi kode dan pesannya. Berikut adalah contoh singkat:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">simpleQuery</span><span class="p">(</span><span class="s1">&#39;SELECT `example_field` FROM `example_table`&#39;</span><span class="p">))</span> <span class="p">{</span>
    <span class="nv">$error</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">error</span><span class="p">();</span> <span class="c1">// Has keys &#39;code&#39; and &#39;message&#39;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="kueri-yang-disiapkan">
<h2><a class="toc-backref" href="#id21" role="doc-backlink">Kueri yang Disiapkan</a><a class="headerlink" href="#kueri-yang-disiapkan" title="Permalink to this heading"></a></h2>
<p>Sebagian besar mesin database mendukung beberapa bentuk pernyataan yang disiapkan, yang memungkinkan Anda menyiapkan kueri sekali, dan kemudian menjalankan
kueri itu berkali-kali dengan set data baru. Ini menghilangkan kemungkinan SQL injection karena data
diteruskan ke database dalam format yang berbeda dari kueri itu sendiri. Ketika Anda perlu menjalankan kueri yang sama berkali-kali
itu bisa jauh lebih cepat juga. Namun, menggunakannya untuk setiap kueri dapat memiliki dampak kinerja yang besar, karena Anda memanggil
database dua kali lebih sering. Karena koneksi Query Builder dan Database sudah menangani peng-escape-an data
untuk Anda, aspek keamanan sudah diurus untuk Anda. Namun, akan ada saatnya Anda membutuhkan kemampuan
untuk mengoptimalkan kueri dengan menjalankan pernyataan yang disiapkan, atau kueri yang disiapkan.</p>
<section id="menyiapkan-kueri">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">Menyiapkan Kueri</a><a class="headerlink" href="#menyiapkan-kueri" title="Permalink to this heading"></a></h3>
<p>Ini dapat dengan mudah dilakukan dengan metode <code class="docutils literal notranslate"><span class="pre">prepare()</span></code>. Ini membutuhkan satu parameter, yaitu Closure yang mengembalikan
objek kueri. Objek kueri secara otomatis dihasilkan oleh salah satu kueri tipe &quot;final&quot;, termasuk <strong>insert</strong>,
<strong>update</strong>, <strong>delete</strong>, <strong>replace</strong>, dan <strong>get</strong>. Ini ditangani paling mudah dengan menggunakan Query Builder untuk
menjalankan kueri. Kueri sebenarnya tidak dijalankan, dan nilai-nilai tidak masalah karena tidak pernah diterapkan, bertindak sebagai
placeholder. Ini mengembalikan objek PreparedQuery:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$pQuery</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="k">static</span> <span class="nx">fn</span> <span class="p">(</span><span class="nv">$db</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">table</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span>
    <span class="s1">&#39;email&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;country&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;US&#39;</span><span class="p">,</span>
<span class="p">]));</span>
</pre></div>
</div>
<p>Jika Anda tidak ingin menggunakan Query Builder, Anda dapat membuat objek Query secara manual menggunakan tanda tanya untuk
placeholder nilai:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">CodeIgniter\Database\Query</span><span class="p">;</span>

<span class="nv">$pQuery</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="k">static</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$db</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$sql</span> <span class="o">=</span> <span class="s1">&#39;INSERT INTO user (name, email, country) VALUES (?, ?, ?)&#39;</span><span class="p">;</span>

    <span class="k">return</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Query</span><span class="p">(</span><span class="nv">$db</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">setQuery</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>
<span class="p">});</span>
</pre></div>
</div>
<p>Jika database memerlukan array opsi yang diteruskan kepadanya selama fase pernyataan persiapan, Anda dapat meneruskan
array itu di parameter kedua:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">use</span> <span class="nx">CodeIgniter\Database\Query</span><span class="p">;</span>

<span class="nv">$pQuery</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="k">static</span> <span class="k">function</span> <span class="p">(</span><span class="nv">$db</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$sql</span> <span class="o">=</span> <span class="s1">&#39;INSERT INTO user (name, email, country) VALUES (?, ?, ?)&#39;</span><span class="p">;</span>

    <span class="k">return</span> <span class="p">(</span><span class="k">new</span> <span class="nx">Query</span><span class="p">(</span><span class="nv">$db</span><span class="p">))</span><span class="o">-&gt;</span><span class="na">setQuery</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>
<span class="p">},</span> <span class="nv">$options</span><span class="p">);</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Catatan</p>
<p>Saat ini, satu-satunya database yang benar-benar menggunakan array opsi adalah SQLSRV.</p>
</div>
</section>
<section id="menjalankan-kueri">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">Menjalankan Kueri</a><a class="headerlink" href="#menjalankan-kueri" title="Permalink to this heading"></a></h3>
<p>Setelah Anda memiliki kueri yang disiapkan, Anda dapat menggunakan metode <code class="docutils literal notranslate"><span class="pre">execute()</span></code> untuk benar-benar menjalankan kueri. Anda dapat meneruskan
sebanyak mungkin variabel yang Anda butuhkan dalam parameter kueri. Jumlah parameter yang Anda berikan harus cocok dengan jumlah
placeholder dalam kueri. Mereka juga harus diteruskan dalam urutan yang sama dengan placeholder yang muncul dalam kueri asli:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="c1">// Prepare the Query</span>
<span class="nv">$pQuery</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="k">static</span> <span class="nx">fn</span> <span class="p">(</span><span class="nv">$db</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">table</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">insert</span><span class="p">([</span>
    <span class="s1">&#39;name&#39;</span>    <span class="o">=&gt;</span> <span class="s1">&#39;x&#39;</span><span class="p">,</span>
    <span class="s1">&#39;email&#39;</span>   <span class="o">=&gt;</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span>
    <span class="s1">&#39;country&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;US&#39;</span><span class="p">,</span>
<span class="p">]));</span>

<span class="c1">// Collect the Data</span>
<span class="nv">$name</span>    <span class="o">=</span> <span class="s1">&#39;John Doe&#39;</span><span class="p">;</span>
<span class="nv">$email</span>   <span class="o">=</span> <span class="s1">&#39;j.doe@example.com&#39;</span><span class="p">;</span>
<span class="nv">$country</span> <span class="o">=</span> <span class="s1">&#39;US&#39;</span><span class="p">;</span>

<span class="c1">// Run the Query</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$pQuery</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">(</span><span class="nv">$name</span><span class="p">,</span> <span class="nv">$email</span><span class="p">,</span> <span class="nv">$country</span><span class="p">);</span>
</pre></div>
</div>
<p>Untuk kueri tipe &quot;tulis&quot;, ia mengembalikan true atau false, menunjukkan keberhasilan atau kegagalan kueri.
Untuk kueri tipe &quot;baca&quot;, ia mengembalikan <a class="reference internal" href="results.html"><span class="doc">set hasil standar</span></a>.</p>
</section>
<section id="metode-lain">
<h3><a class="toc-backref" href="#id24" role="doc-backlink">Metode Lain</a><a class="headerlink" href="#metode-lain" title="Permalink to this heading"></a></h3>
<p>Selain dua metode utama ini, objek kueri yang disiapkan juga memiliki metode berikut:</p>
<section id="close">
<span id="database-queries-stmt-close"></span><h4>close()<a class="headerlink" href="#close" title="Permalink to this heading"></a></h4>
<p>Meskipun PHP cukup baik dalam menutup semua pernyataan yang terbuka dengan database, selalu merupakan ide yang baik untuk
menutup pernyataan yang disiapkan ketika Anda selesai dengannya:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$pQuery</span><span class="o">-&gt;</span><span class="na">close</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Success!&#39;</span><span class="p">;</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Deallocation of prepared statements failed!&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Catatan</p>
<p>Sejak v4.3.0, metode <code class="docutils literal notranslate"><span class="pre">close()</span></code> mendealokasikan pernyataan yang disiapkan di semua DBMS. Sebelumnya, mereka tidak didealokasikan di Postgre, SQLSRV, dan OCI8.</p>
</div>
</section>
<section id="getquerystring">
<h4>getQueryString()<a class="headerlink" href="#getquerystring" title="Permalink to this heading"></a></h4>
<p>Ini mengembalikan kueri yang disiapkan sebagai string.</p>
</section>
<section id="haserror">
<h4>hasError()<a class="headerlink" href="#haserror" title="Permalink to this heading"></a></h4>
<p>Mengembalikan boolean true/false jika panggilan <code class="docutils literal notranslate"><span class="pre">execute()</span></code> terakhir membuat kesalahan.</p>
</section>
<section id="geterrorcode">
<h4>getErrorCode()<a class="headerlink" href="#geterrorcode" title="Permalink to this heading"></a></h4>
</section>
<section id="geterrormessage">
<h4>getErrorMessage()<a class="headerlink" href="#geterrormessage" title="Permalink to this heading"></a></h4>
<p>Jika ada kesalahan yang terjadi, metode ini dapat digunakan untuk mengambil kode kesalahan dan string.</p>
</section>
</section>
</section>
<section id="bekerja-dengan-objek-kueri">
<h2><a class="toc-backref" href="#id25" role="doc-backlink">Bekerja dengan Objek Kueri</a><a class="headerlink" href="#bekerja-dengan-objek-kueri" title="Permalink to this heading"></a></h2>
<p>Secara internal, semua kueri diproses dan disimpan sebagai instance
<code class="docutils literal notranslate"><span class="pre">CodeIgniter\Database\Query</span></code>. Kelas ini bertanggung jawab untuk mengikat
parameter, jika tidak, menyiapkan kueri, dan menyimpan data kinerja
tentang kuerinya.</p>
<section id="db-getlastquery">
<h3><a class="toc-backref" href="#id26" role="doc-backlink">$db-&gt;getLastQuery()</a><a class="headerlink" href="#db-getlastquery" title="Permalink to this heading"></a></h3>
<p>Ketika Anda hanya perlu mengambil objek Kueri terakhir, gunakan
metode <code class="docutils literal notranslate"><span class="pre">getLastQuery()</span></code>:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$query</span> <span class="o">=</span> <span class="nv">$db</span><span class="o">-&gt;</span><span class="na">getLastQuery</span><span class="p">();</span>
<span class="k">echo</span> <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$query</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="kelas-kueri">
<h3><a class="toc-backref" href="#id27" role="doc-backlink">Kelas Kueri</a><a class="headerlink" href="#kelas-kueri" title="Permalink to this heading"></a></h3>
<p>Setiap objek kueri menyimpan beberapa informasi tentang kueri itu sendiri.
Ini digunakan, sebagian, oleh fitur Timeline, tetapi tersedia untuk penggunaan Anda
juga.</p>
<section id="getquery">
<h4>getQuery()<a class="headerlink" href="#getquery" title="Permalink to this heading"></a></h4>
<p>Mengembalikan kueri akhir setelah semua pemrosesan terjadi. Ini adalah kueri yang persis
dikirim ke database:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$sql</span> <span class="o">=</span> <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">getQuery</span><span class="p">();</span>
</pre></div>
</div>
<p>Nilai yang sama ini dapat diambil dengan meng-cast objek Query ke string:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$sql</span> <span class="o">=</span> <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$query</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="getoriginalquery">
<h4>getOriginalQuery()<a class="headerlink" href="#getoriginalquery" title="Permalink to this heading"></a></h4>
<p>Mengembalikan SQL mentah yang diteruskan ke objek. Ini tidak akan memiliki
bind di dalamnya, atau prefiks yang ditukar, dll:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$sql</span> <span class="o">=</span> <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">getOriginalQuery</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="id3">
<h4>hasError()<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h4>
<p>Jika kesalahan terjadi selama eksekusi kueri ini, metode ini
akan mengembalikan true:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$query</span><span class="o">-&gt;</span><span class="na">hasError</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">&#39;Code: &#39;</span> <span class="o">.</span> <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">getErrorCode</span><span class="p">();</span>
    <span class="k">echo</span> <span class="s1">&#39;Error: &#39;</span> <span class="o">.</span> <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">getErrorMessage</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="iswritetype">
<h4>isWriteType()<a class="headerlink" href="#iswritetype" title="Permalink to this heading"></a></h4>
<p>Mengembalikan true jika kueri ditentukan sebagai kueri tipe tulis (yaitu,
INSERT, UPDATE, DELETE, dll):</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$query</span><span class="o">-&gt;</span><span class="na">isWriteType</span><span class="p">())</span> <span class="p">{</span>
    <span class="c1">// ... do something</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="swapprefix">
<h4>swapPrefix()<a class="headerlink" href="#swapprefix" title="Permalink to this heading"></a></h4>
<p>Mengganti satu prefiks tabel dengan nilai lain dalam SQL. Parameter pertama
adalah prefiks asli yang ingin Anda ganti, dan parameter kedua
adalah nilai yang ingin Anda gantikan:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$sql</span> <span class="o">=</span> <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">swapPrefix</span><span class="p">(</span><span class="s1">&#39;ci3_&#39;</span><span class="p">,</span> <span class="s1">&#39;ci4_&#39;</span><span class="p">);</span>
</pre></div>
</div>
</section>
<section id="getstarttime">
<h4>getStartTime()<a class="headerlink" href="#getstarttime" title="Permalink to this heading"></a></h4>
<p>Mendapatkan waktu kueri dieksekusi dalam detik dengan mikrodetik:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$microtime</span> <span class="o">=</span> <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">getStartTime</span><span class="p">();</span>
</pre></div>
</div>
</section>
<section id="getduration">
<h4>getDuration()<a class="headerlink" href="#getduration" title="Permalink to this heading"></a></h4>
<p>Mengembalikan nilai float dengan durasi kueri dalam detik dengan mikrodetik:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="nv">$microtime</span> <span class="o">=</span> <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">getDuration</span><span class="p">();</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="connecting.html" class="btn btn-neutral float-left" title="Menghubungkan ke Database Anda" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="results.html" class="btn btn-neutral float-right" title="Menghasilkan Query Results" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Hak cipta 2019-2025 CodeIgniter Foundation.
      <span class="lastupdated">Terakhir diperbarui pada Jul 30, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>